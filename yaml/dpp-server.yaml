openapi: 3.0.1
info:
  version: "0.0.0"
  title: DPP-Server
  description: The API for provisioning DPP enabled devices via a Configuration Agent
  license: 
    name: Apache 2.0
    url: https://github.com/cablelabs/micronets/blob/master/LICENSE
  contact:
    email: d.thakore@cablelabs.com
externalDocs:
  description: Find out more about the CableLabs Micronets project
  url: "https://github.com/cablelabs/micronets/wiki"
servers:
  - url: /v1
tags:
- name: dpp
  description: Actions specific to DPP (Device Provisioning Protocol)
paths:
  /dpp/onboard:
    post:
      tags:
      - dpp
      description: 'Initiate DPP bootstrap, authentication and configuration process'
      operationId: dppOnboard
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Bootstrap'
        description: The DPP uri as generated by dpp_bootstrap_gen.
        required: true
      responses:
        '200':
          description: DPP onboard initiated. If connectWait==true, STA has associated.
        '408':
          description: If connectWait==true and operation timed out because STA did not associate'
  
components:
  schemas:
    Bootstrap:
      type: object
      properties:
        uri:
          type: string
          description: generated URI from dpp_bootstrap_gen
        role:
          type: string
          description: requested enrollee role, must be AP or STA
        connectWait:
          type: boolean
          description: If true, don't return until STA associates
          
      required:
        - uri
        - role
